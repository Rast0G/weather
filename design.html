<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Variables */
        :root {
            --primary-color: #5C9CE5;
            --secondary-color: #A1C6EA;
            --dark-color: #2E4057;
            --light-color: #E8F1F5;
            --success-color: #48BB78;
            --warning-color: #F6AD55;
            --danger-color: #F56565;
            --gray-color: #718096;
            --transition: all 0.3s ease;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --radius: 0.5rem;
            --radius-lg: 1rem;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        h1, h2, h3, h4 {
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .app-title {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .app-subtitle {
            color: var(--gray-color);
            font-weight: 400;
        }

        /* Search Form */
        .search-container {
            max-width: 500px;
            margin: 0 auto 2rem;
        }

        .search-form {
            display: flex;
            gap: 0.5rem;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid var(--light-color);
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(92, 156, 229, 0.2);
        }

        .search-button {
            padding: 0.75rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-button:hover {
            background-color: #4A89D9;
        }

        /* Weather Card */
        .weather-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            flex: 1;
        }

        .weather-card {
            background-color: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .weather-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-5px);
        }

        .weather-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .location {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .date {
            font-size: 1rem;
            opacity: 0.9;
        }

        .weather-body {
            padding: 2rem;
        }

        .weather-overview {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .temperature-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .temperature {
            font-size: 4rem;
            font-weight: 700;
            line-height: 1;
            position: relative;
        }

        .temperature-unit {
            position: absolute;
            top: 0;
            right: -1.5rem;
            font-size: 1.5rem;
            font-weight: 500;
        }

        .feels-like {
            font-size: 0.875rem;
            color: var(--gray-color);
            margin-top: 0.5rem;
        }

        .unit-toggle {
            display: flex;
            gap: 0.25rem;
            margin-top: 0.5rem;
        }

        .unit-btn {
            background-color: var(--light-color);
            border: none;
            border-radius: var(--radius);
            padding: 0.25rem 0.5rem;
            font-family: inherit;
            font-size: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .unit-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .weather-icon-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .weather-icon {
            width: 100px;
            height: 100px;
            margin-bottom: 0.5rem;
        }

        .weather-description {
            text-align: center;
            font-weight: 500;
            text-transform: capitalize;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            background-color: var(--light-color);
            border-radius: var(--radius);
        }

        .detail-label {
            font-size: 0.875rem;
            color: var(--gray-color);
            margin-bottom: 0.5rem;
        }

        .detail-value {
            font-size: 1.25rem;
            font-weight: 600;
        }

        /* Forecast Section */
        .forecast-title {
            margin: 2rem 0 1rem;
            text-align: center;
            color: var(--dark-color);
        }

        .forecast-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .forecast-item {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1rem;
            text-align: center;
            transition: var(--transition);
        }

        .forecast-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .forecast-day {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .forecast-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 0.5rem;
        }

        .forecast-temp {
            font-weight: 600;
        }

        .forecast-description {
            font-size: 0.875rem;
            color: var(--gray-color);
            margin-top: 0.25rem;
        }

        /* Error Message */
        .error-message {
            background-color: var(--danger-color);
            color: white;
            padding: 1rem;
            border-radius: var(--radius);
            margin-bottom: 1rem;
            text-align: center;
            display: none;
        }

        /* Loading Spinner */
        .loading {
            display: none;
            text-align: center;
            margin: 2rem 0;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(92, 156, 229, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 3rem;
            color: var(--gray-color);
            font-size: 0.875rem;
        }

        footer a {
            color: var(--primary-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .app-title {
                font-size: 2rem;
            }

            .weather-overview {
                flex-direction: column;
                gap: 1.5rem;
            }

            .temperature {
                font-size: 3rem;
            }

            .weather-icon {
                width: 80px;
                height: 80px;
            }

            .weather-details {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .search-form {
                flex-direction: column;
            }

            .weather-details {
                grid-template-columns: 1fr;
            }

            .forecast-container {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="app-title">Weather App</h1>
            <p class="app-subtitle">Check the weather in your city</p>
        </header>

        <div class="search-container">
            <div class="error-message" id="error-message">
                City not found. Please try again.
            </div>
            <form class="search-form" id="search-form">
                <input 
                    type="text" 
                    class="search-input" 
                    id="city-input" 
                    placeholder="Enter city name" 
                    required
                >
                <button type="submit" class="search-button">Search</button>
            </form>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading weather data...</p>
        </div>

        <div class="weather-container" id="weather-container">
            <!-- Current Weather Card -->
            <div class="weather-card">
                <div class="weather-header">
                    <h2 class="location" id="location">New York, US</h2>
                    <p class="date" id="date">Monday, June 10, 2023</p>
                </div>
                <div class="weather-body">
                    <div class="weather-overview">
                        <div class="temperature-container">
                            <div class="temperature" id="temperature">
                                24<span class="temperature-unit">°C</span>
                            </div>
                            <p class="feels-like" id="feels-like">Feels like: 26°C</p>
                            <div class="unit-toggle">
                                <button class="unit-btn active" id="celsius-btn">°C</button>
                                <button class="unit-btn" id="fahrenheit-btn">°F</button>
                            </div>
                        </div>
                        <div class="weather-icon-container">
                            <img src="https://openweathermap.org/img/wn/01d@2x.png" alt="Weather Icon" class="weather-icon" id="weather-icon">
                            <p class="weather-description" id="weather-description">Clear sky</p>
                        </div>
                    </div>
                    <div class="weather-details">
                        <div class="detail-item">
                            <p class="detail-label">Humidity</p>
                            <p class="detail-value" id="humidity">65%</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Wind Speed</p>
                            <p class="detail-value" id="wind-speed">5.5 km/h</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Pressure</p>
                            <p class="detail-value" id="pressure">1012 hPa</p>
                        </div>
                        <div class="detail-item">
                            <p class="detail-label">Visibility</p>
                            <p class="detail-value" id="visibility">10 km</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Forecast Section -->
            <h3 class="forecast-title">5-Day Forecast</h3>
            <div class="forecast-container" id="forecast-container">
                <div class="forecast-item">
                    <p class="forecast-day">Tue</p>
                    <img src="https://openweathermap.org/img/wn/01d.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">26°C</p>
                    <p class="forecast-description">Clear</p>
                </div>
                <div class="forecast-item">
                    <p class="forecast-day">Wed</p>
                    <img src="https://openweathermap.org/img/wn/02d.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">24°C</p>
                    <p class="forecast-description">Few clouds</p>
                </div>
                <div class="forecast-item">
                    <p class="forecast-day">Thu</p>
                    <img src="https://openweathermap.org/img/wn/10d.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">22°C</p>
                    <p class="forecast-description">Rain</p>
                </div>
                <div class="forecast-item">
                    <p class="forecast-day">Fri</p>
                    <img src="https://openweathermap.org/img/wn/03d.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">25°C</p>
                    <p class="forecast-description">Clouds</p>
                </div>
                <div class="forecast-item">
                    <p class="forecast-day">Sat</p>
                    <img src="https://openweathermap.org/img/wn/01d.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">27°C</p>
                    <p class="forecast-description">Clear</p>
                </div>
            </div>
        </div>

        <footer>
            <p>Created with ❤️ | Weather data provided by <a href="https://openweathermap.org/" target="_blank">OpenWeather</a></p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const searchForm = document.getElementById('search-form');
        const cityInput = document.getElementById('city-input');
        const errorMessage = document.getElementById('error-message');
        const loadingIndicator = document.getElementById('loading');
        const weatherContainer = document.getElementById('weather-container');
        const locationElement = document.getElementById('location');
        const dateElement = document.getElementById('date');
        const temperatureElement = document.getElementById('temperature');
        const feelsLikeElement = document.getElementById('feels-like');
        const weatherIcon = document.getElementById('weather-icon');
        const weatherDescription = document.getElementById('weather-description');
        const humidityElement = document.getElementById('humidity');
        const windSpeedElement = document.getElementById('wind-speed');
        const pressureElement = document.getElementById('pressure');
        const visibilityElement = document.getElementById('visibility');
        const forecastContainer = document.getElementById('forecast-container');
        const celsiusBtn = document.getElementById('celsius-btn');
        const fahrenheitBtn = document.getElementById('fahrenheit-btn');

        // API Key (in a real app, this would be secured)
        const apiKey = 'YOUR_API_KEY'; // Replace with your OpenWeatherMap API key

        // Weather data storage
        let weatherData = {
            current: null,
            forecast: null,
            units: 'metric' // Default to Celsius
        };

        // Event Listeners
        searchForm.addEventListener('submit', handleSearch);
        celsiusBtn.addEventListener('click', () => setTemperatureUnit('metric'));
        fahrenheitBtn.addEventListener('click', () => setTemperatureUnit('imperial'));

        // Initialize with default city
        window.addEventListener('load', () => {
            // In a real app, you might get the user's location or use a default city
            getWeatherData('New York');
        });

        // Handle search form submission
        function handleSearch(e) {
            e.preventDefault();
            const city = cityInput.value.trim();
            if (city) {
                getWeatherData(city);
                cityInput.value = '';
            }
        }

        // Get weather data from API
        function getWeatherData(city) {
            showLoading();
            hideError();
            
            // In a real app, you would make actual API calls to OpenWeatherMap
            // For this demo, we'll simulate API responses with sample data
            
            setTimeout(() => {
                try {
                    // Simulate successful API response
                    const currentWeatherData = getSimulatedCurrentWeather(city);
                    const forecastData = getSimulatedForecast(city);
                    
                    weatherData.current = currentWeatherData;
                    weatherData.forecast = forecastData;
                    
                    updateUI();
                    hideLoading();
                } catch (error) {
                    showError(error.message);
                    hideLoading();
                }
            }, 1000); // Simulate network delay
        }

        // Update UI with weather data
        function updateUI() {
            const current = weatherData.current;
            const forecast = weatherData.forecast;
            
            // Update current weather
            locationElement.textContent = `${current.name}, ${current.sys.country}`;
            dateElement.textContent = formatDate(new Date());
            
            updateTemperatureDisplay();
            
            weatherIcon.src = `https://openweathermap.org/img/wn/${current.weather[0].icon}@2x.png`;
            weatherDescription.textContent = current.weather[0].description;
            
            humidityElement.textContent = `${current.main.humidity}%`;
            windSpeedElement.textContent = weatherData.units === 'metric' 
                ? `${current.wind.speed} m/s` 
                : `${current.wind.speed} mph`;
            pressureElement.textContent = `${current.main.pressure} hPa`;
            visibilityElement.textContent = `${(current.visibility / 1000).toFixed(1)} km`;
            
            // Update forecast
            updateForecastUI(forecast);
        }

        // Update temperature display based on selected unit
        function updateTemperatureDisplay() {
            const current = weatherData.current;
            const temp = Math.round(current.main.temp);
            const feelsLike = Math.round(current.main.feels_like);
            
            const unit = weatherData.units === 'metric' ? '°C' : '°F';
            
            temperatureElement.innerHTML = `${temp}<span class="temperature-unit">${unit}</span>`;
            feelsLikeElement.textContent = `Feels like: ${feelsLike}${unit}`;
        }

        // Update forecast UI
        function updateForecastUI(forecast) {
            forecastContainer.innerHTML = '';
            
            forecast.list.forEach(item => {
                const date = new Date(item.dt * 1000);
                const day = formatDay(date);
                const temp = Math.round(item.main.temp);
                const unit = weatherData.units === 'metric' ? '°C' : '°F';
                const description = item.weather[0].description;
                const icon = item.weather[0].icon;
                
                const forecastItem = document.createElement('div');
                forecastItem.classList.add('forecast-item');
                forecastItem.innerHTML = `
                    <p class="forecast-day">${day}</p>
                    <img src="https://openweathermap.org/img/wn/${icon}.png" alt="Weather Icon" class="forecast-icon">
                    <p class="forecast-temp">${temp}${unit}</p>
                    <p class="forecast-description">${description}</p>
                `;
                
                forecastContainer.appendChild(forecastItem);
            });
        }

        // Set temperature unit (Celsius or Fahrenheit)
        function setTemperatureUnit(unit) {
            if (weatherData.units === unit) return;
            
            weatherData.units = unit;
            
            // Update UI to reflect unit change
            if (unit === 'metric') {
                celsiusBtn.classList.add('active');
                fahrenheitBtn.classList.remove('active');
            } else {
                celsiusBtn.classList.remove('active');
                fahrenheitBtn.classList.add('active');
            }
            
            // Convert temperatures
            if (weatherData.current) {
                // In a real app, you would either convert the temperatures or fetch new data
                // For this demo, we'll simulate new data with the selected unit
                const city = weatherData.current.name;
                getWeatherData(city);
            }
        }

        // Helper Functions
        function formatDate(date) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        function formatDay(date) {
            const options = { weekday: 'short' };
            return date.toLocaleDateString('en-US', options);
        }

        function showLoading() {
            loadingIndicator.style.display = 'block';
            weatherContainer.style.display = 'none';
        }

        function hideLoading() {
            loadingIndicator.style.display = 'none';
            weatherContainer.style.display = 'flex';
        }

        function showError(message) {
            errorMessage.textContent = message || 'An error occurred. Please try again.';
            errorMessage.style.display = 'block';
        }

        function hideError() {
            errorMessage.style.display = 'none';
        }

        // Simulated API responses (for demo purposes)
        function getSimulatedCurrentWeather(city) {
            // Check if city exists in our "database"
            if (city.toLowerCase() === 'error') {
                throw new Error('City not found. Please try again.');
            }
            
            // Generate random temperature based on unit
            const tempBase = Math.floor(Math.random() * 15) + 15; // 15-30°C
            const temp = weatherData.units === 'metric' ? tempBase : celsiusToFahrenheit(tempBase);
            const feelsLike = temp + (Math.random() * 4 - 2); // +/- 2 degrees
            
            // Random weather conditions
            const conditions = [
                { description: 'clear sky', icon: '01d' },
                { description: 'few clouds', icon: '02d' },
                { description: 'scattered clouds', icon: '03d' },
                { description: 'broken clouds', icon: '04d' },
                { description: 'shower rain', icon: '09d' },
                { description: 'rain', icon: '10d' },
                { description: 'thunderstorm', icon: '11d' },
                { description: 'snow', icon: '13d' },
                { description: 'mist', icon: '50d' }
            ];
            
            const weatherCondition = conditions[Math.floor(Math.random() * conditions.length)];
            
            return {
                name: city,
                sys: {
                    country: 'US'
                },
                main: {
                    temp: temp,
                    feels_like: feelsLike,
                    humidity: Math.floor(Math.random() * 50) + 30, // 30-80%
                    pressure: Math.floor(Math.random() * 50) + 1000 // 1000-1050 hPa
                },
                weather: [
                    {
                        description: weatherCondition.description,
                        icon: weatherCondition.icon
                    }
                ],
                wind: {
                    speed: (Math.random() * 10).toFixed(1) // 0-10 m/s or mph
                },
                visibility: Math.floor(Math.random() * 5000) + 5000 // 5000-10000 meters
            };
        }

        function getSimulatedForecast(city) {
            // Generate 5-day forecast
            const forecast = {
                list: []
            };
            
            const conditions = [
                { description: 'clear sky', icon: '01d' },
                { description: 'few clouds', icon: '02d' },
                { description: 'scattered clouds', icon: '03d' },
                { description: 'broken clouds', icon: '04d' },
                { description: 'shower rain', icon: '09d' },
                { description: 'rain', icon: '10d' },
                { description: 'thunderstorm', icon: '11d' },
                { description: 'snow', icon: '13d' },
                { description: 'mist', icon: '50d' }
            ];
            
            // Current date
            const now = new Date();
            
            // Generate forecast for next 5 days
            for (let i = 1; i <= 5; i++) {
                const date = new Date();
                date.setDate(now.getDate() + i);
                
                const tempBase = Math.floor(Math.random() * 15) + 15; // 15-30°C
                const temp = weatherData.units === 'metric' ? tempBase : celsiusToFahrenheit(tempBase);
                
                const weatherCondition = conditions[Math.floor(Math.random() * conditions.length)];
                
                forecast.list.push({
                    dt: date.getTime() / 1000,
                    main: {
                        temp: temp
                    },
                    weather: [
                        {
                            description: weatherCondition.description,
                            icon: weatherCondition.icon
                        }
                    ]
                });
            }
            
            return forecast;
        }

        function celsiusToFahrenheit(celsius) {
            return (celsius * 9/5) + 32;
        }

        function fahrenheitToCelsius(fahrenheit) {
            return (fahrenheit - 32) * 5/9;
        }
    </script>
</body>
</html>